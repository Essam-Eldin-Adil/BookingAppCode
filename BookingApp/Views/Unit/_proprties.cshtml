@model SearchItemViewModel
<div class="postcontent col-lg-12 order-lg-last mt-5 col-mb-50">
    @if (!Model.Units.Any())
    {
        <div class="center">
            @Resource.NoRecord
        </div>
    }
<div class="row gutter-40 mb-0">

    @foreach (var unit in Model.Units)
    {
    <div class="entry col-6 mb-0">
        <partial name="_proprty" model="unit" />
    </div>
    }
</div>

</div>
@*<div class="real-estate mt-5 grid-container row portfolio gutter-20 col-mb-50" data-layout="fitRows">
    @if (!Model.Units.Any())
    {
        <div class="center">
            @Resource.NoRecord
        </div>
    }
    @foreach (var unit in Model.Units)
    {
        var image = Url.Content("~/images/noimg.jpg");
        if (unit.UnitImages.Count > 0)
        {
            var uitImage = unit.UnitImages.OrderByDescending(c => c.IsPrimary).FirstOrDefault();
            image = Url.Content("~/" + uitImage.File.FileContentMin);
        }
        <div class="real-estate-item portfolio-item col-12 col-md-4 col-lg-3">
            <div class="real-estate-item-image">
                <div class="label badge badge-danger bg-color2" style="background-color:rgb(0 0 0 / 52%) !important">
                    <i class="icon-eye"></i> @unit.Views
                </div>
                <a href="#">
                    <img src="@image" class="w-100" alt="Image 1">
                </a>
                <div class="real-estate-item-price" style="direction:rtl">
                    @unit.DayPrice @Resource.Currency<span>@Resource.PricePerNight</span>
                </div>
                <div class="real-estate-item-info clearfix" data-lightbox="gallery">
                    <a href="#" data-toggle="tooltip" title="Like">
                        <i class="icon-star3 text-warning"></i> 24
                    </a>
                    <a href="#" data-toggle="tooltip" title="Images" data-lightbox="gallery-item">
                        @Resource.UnitCode (@unit.Code)
                    </a>

                </div>
            </div>

            <div class="real-estate-item-desc p-0">
                <h3>
                    <a href="@Url.Action("Index","Unit",new {id=unit.Id,DateFrom=DateTime.Now,DateTo=DateTime.Now })">
                        @unit.Name
                        @if (Model.Units.Count(c => c.OriginId == unit.Id) > 0)
                        {
                            <span>(@unit.Number)</span>
                        }
                        @if (unit.IsSimilar)
                        {
                            <span>(@unit.Number)</span>
                        }
                    </a>
                </h3>
                <span><i class="icon-location"></i> @unit.Chalet.City.CityName, @unit.Chalet.Neighborhood</span>

            </div>
        </div>
    }
</div>*@



@{
    var next = 1;
    var prev = 1;
    var pages = Model.TotalRecord / Model.PageSize;
}
<ul class="pagination my-3">
    @for (int i = 1; i < pages + 1; i++)
    {
        if (i == pages - 2)
        {
            prev = Model.PageNumber - 1;
            if (Model.PageNumber != 1)
            {
                <li class="page-item"><button type="button" onclick="getData(@prev)" class="page-link" href="#">@Resource.PrevTopice</button></li>
            }
        }
        if (i == Model.PageNumber)
        {

            next = i + 1;
            <li class="page-item active"><button type="button" onclick="getData(@i)" class="page-link">@i</button></li>
        }
        else
        {
            <li class="page-item"><button type="button" onclick="getData(@i)" class="page-link">@i</button></li>
        }
        if (i == (pages + 1) - 1)
        {
            if (next > Model.TotalRecord)
            {
            }
            else
            {
                <li class="page-item"><button type="button" onclick="getData(@next)" class="page-link">@Resource.Next</button></li>
            }
        }
    }
</ul>
@*<ul class="pagination my-0">
        <li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">4</a></li>
        <li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
    </ul>*@
